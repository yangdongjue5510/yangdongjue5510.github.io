---
title: 2. 프로토콜
date: 2021-09-16 21:24:09
tags:
category:
    - Computer Science
    - Network
---
### a. 프로토콜 레이어

각 레이어는 순차적으로 서비스를 진행.
![](/img/network/network2-1.png)
보내는 쪽에서는 상위-하위 계층 순, 받는 쪽에서는 하위-상위 순으로 진행된다.
상위 계층은 하위 계층에게 서비스를 요청, 하위 계층은 상위 계층에게 서비스 제공.
이때 보내는 쪽과 받는 쪽이 같은 계층에 위치한 레이어끼리는 peer라고 부른다.
각 peer끼리는 헤더와 페이로드를 공유. 헤더에는 송수신지의 내용이 담겨있음.

### b. 왜 레이어링을 사용하는가
복잡한 시스템을 유지보수하기 유리함.
한 레이어를 바꾼다고 해도, 다른 레이어에는 큰 영향을 안줌.
레이어링은 계층들이 가장 근접한 계층들끼리 서비스를 요청하고 제공하는 시스템인데,
최근 들어 몇몇 계층을 생략하고 서비스를 요청하고 제공하는 시스템을 구축하기도.(크로스 레이어, 기존의 레이어링이라고 보기 힘듬.)

### c. 인터넷 프로토콜 스택
![](/img/network/network2-2.png)
어플리케이션 : 네트워크 어플리케이션을 지원 ex.HTTP, FTP, SMTP, WWW, E-mail...
수송 : 프로세스간의 데이터를 주고 받는 기능을 지원 ex. TCP, UDP
네트워크 : 소스부터 목적지까지 데이터그램의 경로를 결정 ex. IP, routing protocol
링크 : 근접한 네트워크를 처리 ex. 이더넷, wifi, PPP
물리 : 전자기 신호와 비트를 변환
이 프로토콜의 각 계층마다 여러가지 경로(plane)이 존재하는데,
데이터 플레인(data plane) : 사용자가 실제로 보내는 데이터가 지나가는 경로
컨트롤 플레인 : 프로토콜의 작동 제어를 담당하는 서비스가 지나가는 경로
매니지멘트 플레인 : 컨트롤 플레인과 유사. 컨트롤 플레인보다 긴 시간동안 작동 제어한다고 이해.

### d. ISO/OSI 레퍼런스 모델
![](/img/network/network2-3.png)
표준화 모델. 기존의 인터넷 스택에 presentation, session을 추가한 모델(인터넷 스택에서는 어플리케이션에 포함)
presentation : 데이터가 어떤 방식으로 이뤄져있는지 분별. ex. 인코딩 방식, 압축 방식 등...
session : 송수신지의 동기화, 예기치 못한 전송 중단을 대비한 체크포인트 및 복구 등을 담당

### e. 캡슐화
![](/img/network/network2-4.png)
메세지는 각 계층의 인접한 peer끼리 control plane에 따라 제어된다.
source의 link 계층 peer는 switch의 link가 되고
source의 network 계층 peer는 router의 network가 된다.
각 peer들은 헤더를 추가하거나 읽으면서 메세지를 제어한다.