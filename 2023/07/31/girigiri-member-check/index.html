<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    

    
    <title>광운대학교 학생 구성원 인증은 어떻게 할까? | mudura | 그거 뭐더라</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content>
    
    <meta name="description" content="문제 상황광운대학교 미디어커뮤니케이션 학부 기자재 대여 웹 서비스를 구현할 때 광운대학교 미디어커뮤니케이션 학생만 사용할 수 있도록 해야한다. 하지만 문제는 광운대학교에서는 Open API를 제공하지 않아서 학생 구성원을 어떻게 확인해야 할 지가 큰 문제였다. 개선 방법광운대학교 학습 전산 시스템인 klas에 가보면 개인번호 조회 기능이 있는 걸 발견했다.">
<meta property="og:type" content="article">
<meta property="og:title" content="광운대학교 학생 구성원 인증은 어떻게 할까?">
<meta property="og:url" content="https://yangdongjue5510.github.io/2023/07/31/girigiri-member-check/index.html">
<meta property="og:site_name" content="mudura | 그거 뭐더라">
<meta property="og:description" content="문제 상황광운대학교 미디어커뮤니케이션 학부 기자재 대여 웹 서비스를 구현할 때 광운대학교 미디어커뮤니케이션 학생만 사용할 수 있도록 해야한다. 하지만 문제는 광운대학교에서는 Open API를 제공하지 않아서 학생 구성원을 어떻게 확인해야 할 지가 큰 문제였다. 개선 방법광운대학교 학습 전산 시스템인 klas에 가보면 개인번호 조회 기능이 있는 걸 발견했다.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/yangdongjue5510/yangdongjue5510.github.io/assets/87690744/ab2817ec-6b2a-4e2a-8f42-f57219e59e68">
<meta property="article:published_time" content="2023-07-31T13:22:21.000Z">
<meta property="article:modified_time" content="2023-08-02T02:41:29.472Z">
<meta property="article:author" content="yangdongjue5510">
<meta property="article:tag" content="mudura dev blog powered by yangdongjue5510">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/yangdongjue5510/yangdongjue5510.github.io/assets/87690744/ab2817ec-6b2a-4e2a-8f42-f57219e59e68">
    

    

    
        <link rel="icon" href="/css/images/favicon.png">
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/3.5.0/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=[object Object]"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '[object Object]');
</script>
<!-- End Google Analytics -->

    
    
    


<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/rss2.xml" title="mudura | 그거 뭐더라" type="application/rss+xml">
</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1>
                        <a href="/" style="font-size: 100px;color:#fff; text-decoration: none;">mudura</a>
                    </h1>    
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/computer-science/">Computer Science</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/computer-science/algorithm/">Algorithm</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/computer-science/computer-structure/">Computer Structure</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/computer-science/data-structure/">Data Structure</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/computer-science/database/">Database</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/computer-science/infra/">Infra</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/computer-science/network/">Network</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/computer-science/os/">OS</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/infra/">Infra</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/jpa/">JPA</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/java/">Java</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/java/design-pattern/">Design Pattern</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/java/java-basic/">Java Basic</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/spring/">Spring</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/spring/boot/">Boot</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/spring/project/">Project</a></li></ul></li></ul>
                                
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://about.me/yangdongjue5510/edit/details">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    uncategorized
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-girigiri-member-check" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        광운대학교 학생 구성원 인증은 어떻게 할까?
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2023/07/31/girigiri-member-check/" class="article-date">
       <time datetime="2023-07-31T13:22:21.000Z" itemprop="datePublished">2023-07-31</time>
    </a>
  </div>


<div class="article-date">
  <i class="fa fa-calendar-plus-o"></i>
  <a href="/2023/07/31/girigiri-member-check/" class="article-date">
     <time datetime="2023-08-02T02:41:29.472Z" itemprop="dateModified">2023-08-02</time>
  </a>
</div>


                

                
                

                

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            

            

            

            <h1 id="문제-상황"><a href="#문제-상황" class="headerlink" title="문제 상황"></a>문제 상황</h1><p>광운대학교 미디어커뮤니케이션 학부 기자재 대여 웹 서비스를 구현할 때 광운대학교 미디어커뮤니케이션 학생만 사용할 수 있도록 해야한다. 하지만 문제는 광운대학교에서는 Open API를 제공하지 않아서 학생 구성원을 어떻게 확인해야 할 지가 큰 문제였다.</p>
<h1 id="개선-방법"><a href="#개선-방법" class="headerlink" title="개선 방법"></a>개선 방법</h1><p>광운대학교 학습 전산 시스템인 klas에 가보면 개인번호 조회 기능이 있는 걸 발견했다. 이름과 생년월일을 입력하면 신분, 학과, 성명, 개인번호를 조회할 수 있다. 기리기리 팀은 이를 활용해보기로 했다.<br><img src="https://github.com/yangdongjue5510/yangdongjue5510.github.io/assets/87690744/ab2817ec-6b2a-4e2a-8f42-f57219e59e68"></p>
<p>그렇다면 광운대학교의 개인번호 조회 API를 얻어낼 수 있지 않을까? 크롬 개발자 도구를 통해 네트워크 탭에서 어떤 요청을 보내는 지 확인해봤다. 그 결과 다음과 같은 API를 통해 요청을 날리는 것을 확인할 수 있었다.</p>
<p><img src="https://github.com/yangdongjue5510/yangdongjue5510.github.io/assets/87690744/f2082170-68ee-4dc0-982d-87e020f7d572"></p>
<p>자 그러면 해당 API를 포스트맨으로 테스트해보자.<br><img src="https://github.com/yangdongjue5510/yangdongjue5510.github.io/assets/87690744/11c25c39-27aa-403e-873c-de5820d33b87"></p>
<p>이 정보를 활용하면 미디어커뮤니케이션 구성원 검증을 할 수 있을 것이다!!!</p>
<blockquote>
<p>어디서 API 호출할 것인가?<br>우리가 찾아낸 API를 브라우저(프론트엔드)에서 즉시 호출하면 CORS 에러가 발생한다!!!!! 왜냐면 해당 요청의 Content-Type이 application&#x2F;json인 POST 요청이라 (즉 non simple request) CORS 정책에 대상이 되는 요청이기 때문이다. 이렇기 때문에 백엔드에서 API를 호출하고 프론트엔드에 전달하는 방식으로 구현하기로 했다.</p>
</blockquote>
<h1 id="구현"><a href="#구현" class="headerlink" title="구현"></a>구현</h1><p>이제 백엔드에서 광운대 API를 호출해서 프론트엔드에 학번 정보만 전달하는 코드를 구현해보자.</p>
<h2 id="Spring-6-HTTP-interface-구현"><a href="#Spring-6-HTTP-interface-구현" class="headerlink" title="Spring 6 HTTP interface 구현"></a>Spring 6 HTTP interface 구현</h2><p>Spring 6에서 HTTP interface 기능을 활용해서 HTTP Client를 쉽게 구현할 수 있다. 먼저 HTTP interface는 내부적으로 WebClient를 사용하므로 WebFlux를 의존성 추가해야 한다.</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">&#x27;org.springframework.boot:spring-boot-starter-webflux&#x27;</span></span><br></pre></td></tr></table></figure>

<p>그리고 광운대학교 API에 해당하는 DTO를 만들어본다. Java 14의 Record를 활용한다. 필드명은 광운대학교 API에 맞춰서 선언했다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">KwangwoonMemberResponse</span><span class="params">(</span></span><br><span class="line"><span class="params">	String gubun, String codeName1, String sex, String hakbun, String sortNo</span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">KwangwoonMemberRetrieveRequest</span><span class="params">(</span></span><br><span class="line"><span class="params">	String name, String birthday</span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>그리고 광운대하교 API를 호출할 Http interface를 구현해보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">KwangwoonMemberService</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@PostExchange(&quot;/ext/out/SelectFindAllList.do&quot;)</span></span><br><span class="line">	List&lt;KwangwoonMemberResponse&gt; <span class="title function_">retrieve</span><span class="params">(</span></span><br><span class="line"><span class="params">		<span class="meta">@RequestBody</span> <span class="keyword">final</span> KwangwoonMemberRetrieveRequest kwangWoonMemberRetrieveRequest)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@PostExchange</code>는 해당 URL로 post 요청을 처리하는 메서드를 의미한다. 스프링은 이 인터페이스를 기반으로 WebClient를 사용해서 구현체를 만들게 된다. 다만 이 인터페이스의 프록시 객체를 직접 빈으로 등록해줘야 한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 생략...</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> KwangwoonMemberService <span class="title function_">kwangwoonMemberService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">WebClient</span> <span class="variable">kwangwoonServerClient</span> <span class="operator">=</span> createKwangwoonServerClient();</span><br><span class="line">        <span class="keyword">final</span> <span class="type">HttpServiceProxyFactory</span> <span class="variable">factory</span> <span class="operator">=</span> HttpServiceProxyFactory</span><br><span class="line">            .builder(WebClientAdapter.forClient(kwangwoonServerClient))</span><br><span class="line">            .build();</span><br><span class="line">        <span class="keyword">return</span> factory.createClient(KwangwoonMemberService.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> WebClient <span class="title function_">createKwangwoonServerClient</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> WebClient.builder()</span><br><span class="line">            .baseUrl(<span class="string">&quot;https://klas.kw.ac.kr/&quot;</span>)</span><br><span class="line">            .defaultStatusHandler(HttpStatusCode::isError, res -&gt; Mono.just(<span class="keyword">new</span> <span class="title class_">KwangwoonServerException</span>()))</span><br><span class="line">            .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>광운대 API의 baseUrl과 예외 핸들링을 설정한 WebClient를 생성하고 HttpInterface의 구현체로 만들어 빈으로 등록한다. 그러면 이제 아까 만든 인터페이스를 주입할 때 해당 구현체를 주입할 것이다.</p>
<h2 id="Http-interface-주입받아서-광운대-학생-검증-로직-구현"><a href="#Http-interface-주입받아서-광운대-학생-검증-로직-구현" class="headerlink" title="Http interface 주입받아서 광운대 학생 검증 로직 구현"></a>Http interface 주입받아서 광운대 학생 검증 로직 구현</h2><p>이제 광운대 API를 통해 학생의 학번과 학과 등 정보를 조회해올 수 있다. 우리의 목표는 해당 학생이 미디어커뮤니케이션 학생인지를 검증하는 것이다. 미디어커뮤니케이션 학생들은 10자리 학번 중 가운데 3자리가 <code>317</code> 혹은 <code>323</code>이다. 이를 확인하면 광운대 미디어커뮤니케이션 학생임을 확인할 수 있다.</p>
<p>이런 로직을 가지는 서비스를 구현하자. 기존의 회원 관리 서비스와 분리해서 서비스를 구현했는데, 기존의 회원 서비스는 현재 기리기리 서비스의 회원과 관련된 서비스고 지금 구현하려는 광운대 학생 확인 서비스는 아직 우리의 회원이 아닌 사람의 정보를 다루는 로직이라 판단해서 구분지었다.<br>그리고 해당 로직을 도메인 코드가 아닌 서비스 로직에 포함한 이유는 일단 미디어커뮤니케이션 학부 검증 로직이 여러 곳에서 사용되지 않고 해당 서비스에서만 사용되고 해당 서비스에서 여러 로직들이 혼잡되어 있어서 읽기 어려운 상황이 아니라고 판단했다. 그래서 이런 상황에서는 새로운 도메인 클래스를 도입하기보다 서비스에 로직을 배치하고 추후 해당 서비스에 다른 로직이 많이 배치되기 시작할 경우 서비스 분리나 도메인 코드로 분리를 고려할 것이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MemberNumberRetrieveService</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">OLD_MEDIA_MAJOR_NUMBER</span> <span class="operator">=</span> <span class="string">&quot;317&quot;</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">MEDIA_MAJOR_NUMBER</span> <span class="operator">=</span> <span class="string">&quot;323&quot;</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MAJOR_BEGIN_INDEX</span> <span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MAJOR_END_INDEX</span> <span class="operator">=</span> <span class="number">7</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MEMBER_NUMBER_LENGTH</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> KwangwoonMemberService kwangwoonMemberService;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> MemberNumberResponse <span class="title function_">retrieve</span><span class="params">(<span class="keyword">final</span> KwangwoonMemberRetrieveRequest kwangwoonMemberRetrieveRequest)</span> &#123;</span><br><span class="line">		<span class="keyword">final</span> <span class="type">String</span> <span class="variable">memberNumber</span> <span class="operator">=</span> getMemberNumber(kwangwoonMemberRetrieveRequest);</span><br><span class="line">		validateMemberNumberLength(memberNumber);</span><br><span class="line">		validateMajorNumber(memberNumber);</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MemberNumberResponse</span>(memberNumber);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> String <span class="title function_">getMemberNumber</span><span class="params">(<span class="keyword">final</span> KwangwoonMemberRetrieveRequest kwangwoonMemberRetrieveRequest)</span> &#123;</span><br><span class="line">		<span class="keyword">final</span> List&lt;KwangwoonMemberResponse&gt; kwangwoonMemberResponses = kwangwoonMemberService.retrieve(</span><br><span class="line">			kwangwoonMemberRetrieveRequest);</span><br><span class="line">		<span class="keyword">if</span> (kwangwoonMemberResponses.size() != <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MemberNumberRetrieveException</span>(<span class="string">&quot;조회 결과가 단일하지 않습니다.&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> kwangwoonMemberResponses.iterator().next().hakbun();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">validateMemberNumberLength</span><span class="params">(<span class="keyword">final</span> String memberNumber)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (memberNumber.length() != MEMBER_NUMBER_LENGTH) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MemberNumberRetrieveException</span>(<span class="string">&quot;조회된 학번이 10글자가 아닙니다.&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">validateMajorNumber</span><span class="params">(<span class="keyword">final</span> String memberNumber)</span> &#123;</span><br><span class="line">		<span class="keyword">final</span> <span class="type">String</span> <span class="variable">majorNumber</span> <span class="operator">=</span> memberNumber.substring(MAJOR_BEGIN_INDEX, MAJOR_END_INDEX);</span><br><span class="line">		<span class="keyword">final</span> <span class="type">boolean</span> <span class="variable">isMediaMajor</span> <span class="operator">=</span></span><br><span class="line">			majorNumber.equals(OLD_MEDIA_MAJOR_NUMBER) || majorNumber.equals(MEDIA_MAJOR_NUMBER);</span><br><span class="line">		<span class="keyword">if</span> (!isMediaMajor) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MemberNumberRetrieveException</span>(<span class="string">&quot;미디어커뮤니케이션 학번이 아닙니다.&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>위 코드에서 아래와 같이 작성만 하면 HTTP 요청을 보내서 응답을 받을 수 있다. 서비스 로직 작성자는 해당 서비스가 레포지토리를 통해 정보를 조회하는 지, HTTP를 통해 가져오는 지 세부 구현에 대한 관심을 제거할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> List&lt;KwangwoonMemberResponse&gt; kwangwoonMemberResponses = kwangwoonMemberService.retrieve(kwangwoonMemberRetrieveRequest);</span><br></pre></td></tr></table></figure>

<p>마지막으로 해당 서비스를 호출하는 클래스를 구현하면 작업이 끝난다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/auth&quot;)</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AuthController</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> MemberNumberRetrieveService memberNumberRetrieveService;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@GetMapping(path = &quot;/memberNumbers&quot;, params = &#123;&quot;name&quot;, &quot;birthday&quot;&#125;)</span></span><br><span class="line">	<span class="keyword">public</span> MemberNumberResponse <span class="title function_">getMemberNumberFromKLAS</span><span class="params">(</span></span><br><span class="line"><span class="params">		<span class="keyword">final</span> KwangwoonMemberRetrieveRequest kwangwoonMemberRetrieveRequest)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> memberNumberRetrieveService.retrieve(kwangwoonMemberRetrieveRequest);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h1><p>우리가 가진 문제를 광운대하교 서비스를 분석해서 API를 찾아냈다. 그리고 백엔드 서버에서 Spring 6 Http interface를 활용해서 쉽게 광운대 API를 활용해서 미디어커뮤니케이션 학부 인증 API를 구현할 수 있었다.</p>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://yangdongjue5510.github.io/2023/07/31/girigiri-member-check/" data-id="clkqx2utz0002lra099qbak38" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "yangdongjue5510"
        },
        "headline": "광운대학교 학생 구성원 인증은 어떻게 할까?",
        "image": "https://yangdongjue5510.github.iohttps://github.com/yangdongjue5510/yangdongjue5510.github.io/assets/87690744/ab2817ec-6b2a-4e2a-8f42-f57219e59e68",
        "keywords": "",
        "genre": "",
        "datePublished": "2023-07-31",
        "dateCreated": "2023-07-31",
        "dateModified": "2023-08-02",
        "url": "https://yangdongjue5510.github.io/2023/07/31/girigiri-member-check/",
        "description": "문제 상황광운대학교 미디어커뮤니케이션 학부 기자재 대여 웹 서비스를 구현할 때 광운대학교 미디어커뮤니케이션 학생만 사용할 수 있도록 해야한다. 하지만 문제는 광운대학교에서는 Open API를 제공하지 않아서 학생 구성원을 어떻게 확인해야 할 지가 큰 문제였다.
개선 방법광운대학교 학습 전산 시스템인 klas에 가보면 개인번호 조회 기능이 있는 걸 발견했다.",
        "wordCount": 1180
    }
</script>

</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>


    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/yangdongjue5510" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2023/07/31/girigiri-time-instant/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            서버 시간대에 의존하지 않는 데이터 구현하기
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2023/07/31/girigiri-page-api/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">페이징 방식에 의존하지 않는 페이지 API 설계하기</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/computer-science/">Computer Science</a><span class="category-list-count">81</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/computer-science/algorithm/">Algorithm</a><span class="category-list-count">29</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/computer-science/algorithm/problem-solving/">Problem Solving</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/computer-science/algorithm/theory/">Theory</a><span class="category-list-count">15</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/computer-science/computer-structure/">Computer Structure</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/computer-science/data-structure/">Data Structure</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/computer-science/database/">Database</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/computer-science/infra/">Infra</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/computer-science/network/">Network</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/computer-science/os/">OS</a><span class="category-list-count">15</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/infra/">Infra</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/jpa/">JPA</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">Java</a><span class="category-list-count">60</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/design-pattern/">Design Pattern</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-basic/">Java Basic</a><span class="category-list-count">22</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring/">Spring</a><span class="category-list-count">46</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/spring/boot/">Boot</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring/project/">Project</a><span class="category-list-count">23</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/clean-code/" style="font-size: 11.43px;">Clean Code</a> <a href="/tags/clean-software/" style="font-size: 10px;">Clean Software</a> <a href="/tags/effective-java/" style="font-size: 15.71px;">Effective Java</a> <a href="/tags/kotlin-in-action/" style="font-size: 18.57px;">Kotlin in Action</a> <a href="/tags/modern-java-in-action/" style="font-size: 17.14px;">Modern Java in Action</a> <a href="/tags/software-engineering-at-google/" style="font-size: 10px;">Software Engineering At Google</a> <a href="/tags/greedy/" style="font-size: 10px;">greedy</a> <a href="/tags/reshapi-project/" style="font-size: 10px;">reshapi project</a> <a href="/tags/sable-project/" style="font-size: 10px;">sable project</a> <a href="/tags/troubleshooting/" style="font-size: 12.86px;">troubleShooting</a> <a href="/tags/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/" style="font-size: 14.29px;">오브젝트</a> <a href="/tags/%EC%9A%B0%EC%95%84%ED%95%9C%ED%85%8C%ED%81%AC%EC%BD%94%EC%8A%A4/" style="font-size: 20px;">우아한테크코스</a> <a href="/tags/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C%EC%99%80-%EC%A0%95%EB%B3%B4%EA%B8%B0%EC%88%A0%EC%9D%98-%EC%9B%90%EB%A6%AC/" style="font-size: 10px;">운영체제와 정보기술의 원리</a> <a href="/tags/%EC%9E%90%EB%B0%94-orm-%ED%91%9C%EC%A4%80-jpa-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/" style="font-size: 10px;">자바 ORM 표준 JPA 프로그래밍</a> <a href="/tags/%ED%9A%8C%EA%B3%A0/" style="font-size: 10px;">회고</a>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2023 yangdongjue5510</p>
                
                <p>Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>. Theme by <a href="https://github.com/ppoffice" target="_blank" rel="external nofollow noopener noreferrer">PPOffice</a></p>
                
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

    </div>
    
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'https://yangdongjue5510.github.io/2023/07/31/girigiri-member-check/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>





    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    

    
    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


</body>
</html>
